# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ—Ç

## –°–∏–º–ø—Ç–æ–º—ã
- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (HTML —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è)
- –ö–æ–Ω—Ç–µ–Ω—Ç (–º–µ–Ω—é, –±–∞–Ω–Ω–µ—Ä—ã, —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã) –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ù–µ—Ç –ª–æ–≥–æ–≤ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –±–µ–∫–µ–Ω–¥–µ

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è NEXT_PUBLIC_API_URL

**–ü—Ä–æ–±–ª–µ–º–∞:** –í production –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `NEXT_PUBLIC_API_URL` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ: `üîó API Base URL: ...`
- –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ localhost –≤ production - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –í Vercel: Settings ‚Üí Environment Variables
2. –î–æ–±–∞–≤—å—Ç–µ `NEXT_PUBLIC_API_URL` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º URL –≤–∞—à–µ–≥–æ –±–µ–∫–µ–Ω–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-backend.railway.app`)
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### 2. CORS –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö CORS –Ω–∞—Å—Ç—Ä–æ–µ–∫.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) ‚Üí Network
- –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:
  - `CORS error` –∏–ª–∏ `Failed to fetch` - –ø—Ä–æ–±–ª–µ–º–∞ —Å CORS
  - `404` - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
  - `ECONNREFUSED` - –±–µ–∫–µ–Ω–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `FRONTEND_URL` –Ω–∞ –±–µ–∫–µ–Ω–¥–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–µ–∫–µ–Ω–¥–∞ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ CORS

### 3. SSR –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –Ω–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** `getServerSideProps` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Next.js –∏ –º–æ–∂–µ—Ç –¥–æ—Ö–æ–¥–∏—Ç—å –¥–æ –±–µ–∫–µ–Ω–¥–∞, –Ω–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–∏–∑ `useEffect`) –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–µ–∫–µ–Ω–¥–∞ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ—Ç `getServerSideProps`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `NEXT_PUBLIC_API_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–µ–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ —Å —Å–µ—Ä–≤–µ—Ä–∞ Next.js)

### 4. –ó–∞–ø—Ä–æ—Å—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ JavaScript

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∏ –≤ JavaScript –º–æ–≥—É—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ (–∫—Ä–∞—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- –û—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å:
  - `api.ts` - –ø—Ä–æ–±–ª–µ–º—ã —Å axios
  - `useStore.ts` - –ø—Ä–æ–±–ª–µ–º—ã —Å zustand
  - `storage.ts` - –ø—Ä–æ–±–ª–µ–º—ã —Å SecureStorage

### 5. –ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–∫–µ–Ω–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –¥–∞–∂–µ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ (–¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)
console.log('API URL:', process.env.NEXT_PUBLIC_API_URL);

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ URL –±–µ–∫–µ–Ω–¥–∞, –Ω–µ undefined
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Network tab

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/restaurants`, `/api/banners`, `/api/menu`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ª–∏ –∑–∞–ø—Ä–æ—Å—ã?
   - –ö–∞–∫–æ–π —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞?
   - –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ CORS?

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –±–µ–∫–µ–Ω–¥–∞

–ù–∞ –±–µ–∫–µ–Ω–¥–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –≤–∏–¥–∞:
```
[timestamp] üì• –í—Ö–æ–¥—è—â–∏–π –∑–∞–ø—Ä–æ—Å: GET /api/restaurants
   Origin: https://your-frontend.vercel.app
   ...
```

–ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –ª–æ–≥–æ–≤ –Ω–µ—Ç - –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –±–µ–∫–µ–Ω–¥–∞.

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- –õ–æ–≥–∏ –∏–∑ `api.ts` (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã)
- –û—à–∏–±–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## –†–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NEXT_PUBLIC_API_URL

1. –í Vercel Dashboard ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí Environment Variables
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - Key: `NEXT_PUBLIC_API_URL`
   - Value: `https://your-backend.railway.app` (–±–µ–∑ `/api` –≤ –∫–æ–Ω—Ü–µ)
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –†–µ—à–µ–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ CORS –Ω–∞ –±–µ–∫–µ–Ω–¥–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –±–µ–∫–µ–Ω–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
```
FRONTEND_URL=https://your-frontend.vercel.app
```

### –†–µ—à–µ–Ω–∏–µ 3: –í—Ä–µ–º–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

–î–æ–±–∞–≤—å—Ç–µ –≤ `lib/api.ts` –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```typescript
api.interceptors.request.use(async (config) => {
  console.log('üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', config.method?.toUpperCase(), config.url);
  console.log('   Base URL:', config.baseURL);
  console.log('   Full URL:', `${config.baseURL}${config.url}`);
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
});
```

### –†–µ—à–µ–Ω–∏–µ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –±–µ–∫–µ–Ω–¥–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–µ–∫–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
curl https://your-backend.railway.app/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–µ—Ä–∞.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SSR vs Client-side –∑–∞–ø—Ä–æ—Å–æ–≤

SSR –∑–∞–ø—Ä–æ—Å—ã (–∏–∑ `getServerSideProps`) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Next.js –∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥–æ–π URL.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–µ–∫–µ–Ω–¥–∞ - –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ—Ç SSR, –Ω–æ –Ω–µ—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞, –ø—Ä–æ–±–ª–µ–º–∞ –≤ `NEXT_PUBLIC_API_URL`.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ SSR, –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
- Service Workers
- Next.js –∫—ç—à

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:
1. –°–æ–±–µ—Ä–∏—Ç–µ –ª–æ–≥–∏ –±–µ–∫–µ–Ω–¥–∞
2. –°–æ–±–µ—Ä–∏—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –°–æ–±–µ—Ä–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã Network tab
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel
